<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PhotomaticsID</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">    
</head>

<body style="background-color:rgb(255, 255, 255); padding-top: 70px; padding-bottom: 70px;">
    <!-- Header -->
    <nav class="navbar navbar-expand-lg fixed-top" style="background-color: #f6c36d;">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="Logo.webp" alt="Logo" width="30" height="24" class="d-inline-block align-text-top">
              </a>
            <a class="navbar-brand" href="Homepage.html">Photomatic's Homepage</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="Gallery.html">Gallery</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Location.html">Location</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            More
                        </a>
                        <ul class="dropdown-menu" style="background-color: #eecc92;">
                            <li><a class="dropdown-item" href="Review.html">Our Review</a></li>
                            <li><a class="dropdown-item" href="Contact.html">Contact Us</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="Request.html">Request Resent Soft Copy</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link disabled" aria-disabled="true">2025.nlp</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Form -->
    <div id="FormResent" class="container">
        <h1 class="text-center"><i>Request Your Soft Copy Here</i></h1>
        <hr>
        <p class="text-center">
            Took a photo at our booth and want the digital version? Simply fill out the form below with your details, and we'll send the soft copy of your photo to your email or preferred contact.</p><br>
    
        <div class="row">
            <!-- Form Individu -->
            <div class="col-md-6">
                <h4 class="text-center"><i>- Formulir Individu -</i></h4>
                <form id="formIndividu">
                    <div class="mb-3">
                        <label for="namaInput" class="form-label"><b>Nama</b></label>
                        <input type="text" class="form-control" id="namaInput" name="namaI" placeholder="Your Answer" required>
                    </div>

                    <div class="mb-3">
                        <label for="tanggalInput" class="form-label"><b>Tanggal Foto</b></label>
                        <input type="date" class="form-control" id="tanggalInput" name="tanggalI" required>
                    </div>

                    <div class="mb-3">
                        <label for="exampleSelect" class="form-label"><b>Cabang Photomatics</b></label>
                        <select class="form-select" id="cabangSelect" name="cabangI" required>
                          <option value="" selected disabled>Pilih Cabang</option>
                          <option value="1">Photomatics Wonderland (Jakarta)</option>
                          <option value="2">Trans Studio Mall Cibubur (Jakarta)</option>
                          <option value="3">SMYD (Pallete) - Blok M (Jakarta)</option>
                          <option value="4">Warnoes Margonda (Depok)</option>
                          <option value="5">Kopitagram - Cinere (Depok)</option>
                          <option value="6">Pasar Tunjungan (Surabaya)</option>
                          <option value="7">Ada Apa Dengan Kopi (AADK) - Wiyung (Surabaya)</option>
                          <option value="8">Female Daily Studio (Surabaya)</option>
                        </select>
                      </div>
                      
                    <div class="mb-3">
                        <label for="jenisSelect" class="form-label"><b>Jenis Box Foto</b></label>
                        <select class="form-select" id="jenisSelect" name="jenisI" required>
                            <option value="" selected disabled>Pilih Jenis</option>
                            <option value="1">Box Biasa</option>
                            <option value="2">Curtain</option>
                            <option value="3">Ontop</option>
                            <option value="4">Wide</option>
                          </select>
                    </div>
    
                    <div class="mb-3">
                        <label for="emailInput" class="form-label"><b>Email (Untuk Pengiriman Soft File)</b></label>
                        <input type="email" class="form-control" id="emailInput" name="emailI" placeholder="Pastikan Email Tidak Full" required>
                    </div>
    
                    <div class="mb-3">
                        <label for="BuktiInput" class="form-label"><b>Bukti Foto Strip</b></label>
                        <input class="form-control" type="file" id="BuktiInput" name="buktiI" required>
                    </div>
    
                    <button type="submit" class="btn" style="background-color: #992e14; color: white;">Submit</button>
                </form>
            </div>
    
            <!-- Form Event -->
            <div class="col-md-6">
                <h4 class="text-center"><i>- Formulir Event -</i></h4>
                <form id="formEvent">
                    <div class="mb-3">
                        <label for="eventInputE" class="form-label"><b>Nama Event</b></label>
                        <input type="text" class="form-control" id="eventInputE" name="namaE" placeholder="Your Answer" required>
                    </div>

                    <div class="mb-3">
                        <label for="tanggalInputE" class="form-label"><b>Tanggal Event</b></label>
                        <input type="date" class="form-control" id="tanggalInputE" name="tanggalE" required>
                      </div>
    
                    <div class="mb-3">
                        <label for="lokasiInputE" class="form-label"><b>Lokasi Box Foto</b></label>
                        <input type="text" class="form-control" id="lokasiInputE" name="lokasiE" placeholder="Your Answer" required>
                    </div>
    
                    <div class="mb-3">
                        <label for="emailInputE" class="form-label"><b>Email (Untuk Pengiriman Soft File)</b></label>
                        <input type="email" class="form-control" id="emailInputE" name="emailE" placeholder="Pastikan Email Tidak Full" required>
                    </div>
    
                    <div class="mb-3">
                        <label for="BuktiInputE" class="form-label"><b>Bukti Foto Strip</b></label>
                        <input class="form-control" type="file" id="BuktiInputE" name="buktiE" required>
                    </div>
    
                    <button type="submit" class="btn" style="background-color: #992e14; color: white;">Submit</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <nav class="navbar fixed-bottom" style="background-color: #f6c36d;">
        <div class="container-fluid justify-content-center">
          <span class="navbar-text text-center">
            @2025 Copyright:NabilahLiandaP
          </span>
        </div>
      </nav>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
    
    <!--- Script Form Individu -->
    <script>
        const form = document.getElementById('formIndividu');
        const scriptURL = 'https://script.google.com/macros/s/AKfycbwMswLtJEObotEIE3iZaRDT2xXb1sJyWvT0huxqub1621RPVbHGrtfLLpgdfdFTkksp/exec';
      
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
      
          const fileInput = document.getElementById('BuktiInput');
          const file = fileInput.files[0];
      
          if (!file) {
            alert("Mohon upload bukti foto.");
            return;
          }
      
          const reader = new FileReader();
      
          reader.onload = async function () {
            const base64File = reader.result.split(',')[1];
      
            const formData = new FormData();
            formData.append("namaI", document.getElementById('namaInput').value);
            formData.append("tanggalI", document.getElementById('tanggalInput').value);
            formData.append("cabangI", document.getElementById('cabangSelect').value);
            formData.append("jenisI", document.getElementById('jenisSelect').value);
            formData.append("emailI", document.getElementById('emailInput').value);
            formData.append("buktiI", base64File);
            formData.append("buktiNama", file.name);
            formData.append("buktiType", file.type);
      
            try {
              const response = await fetch(scriptURL, {
                method: 'POST',
                body: formData // jangan set header Content-Type biar browser auto
              });
      
              const result = await response.json();
              if (result.status === "success") {
                alert("Request berhasil dikirim!");
                form.reset();
              } else {
                alert("Gagal mengirim request.");
              }
            } catch (error) {
              console.error("Upload error:", error);
              alert("Terjadi kesalahan saat mengirim request: " + error);
            }
          };
      
          reader.readAsDataURL(file);
        });
      </script>     
      
    <!--- Script Form Event -->
    <script>
        const formE = document.getElementById('formEvent');
        const scriptURLE = 'https://script.google.com/macros/s/AKfycbw9MRTUi96VlI3O3PbOPQpe7fPaj2QpgVYQvF454qHvJ6tBH-6ZEaahWiKJVswYr6GoDQ/exec';
      
        formE.addEventListener('submit', async (e) => {
          e.preventDefault();
      
          const fileInput = document.getElementById('BuktiInputE');
          const file = fileInput.files[0];
      
          if (!file) {
            alert("Mohon upload bukti foto.");
            return;
          }
      
          const reader = new FileReader();
      
          reader.onload = async function () {
            const base64File = reader.result.split(',')[1];
      
            const formData = new FormData();
            formData.append("namaE", document.getElementById('eventInputE').value);
            formData.append("tanggalE", document.getElementById('tanggalInputE').value);
            formData.append("lokasiE", document.getElementById('lokasiInputE').value);
            formData.append("emailE", document.getElementById('emailInputE').value);
            formData.append("buktiE", base64File);
            formData.append("buktiNama", file.name);
            formData.append("buktiType", file.type);
      
            try {
              const response = await fetch(scriptURLE, {
                method: 'POST',
                body: formData 
              });
      
              const result = await response.json();
              if (result.status === "success") {
                alert("Request berhasil dikirim!");
                formE.reset();
              } else {
                alert("Gagal mengirim request.");
              }
            } catch (error) {
              console.error("Upload error:", error);
              alert("Terjadi kesalahan saat mengirim request: " + error);
            }
          };
      
          reader.readAsDataURL(file);
        });
      </script>
</body>
</html>
